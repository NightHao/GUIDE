================================= Entity Chunks for D-LINK_READY.INDICATION =================================
Entity: D-LINK_READY.INDICATION
Description: The lower layers send a D-LINK_READY.indication to signal that a data link has been established The D-LINK_READY.indication informs the HLE that the communication link is established
The D-LINK_READY.indication is sent to the Higher Layer Entity (HLE) to inform it that the data link is ready for further communication
The D-LINK_READY.indication is used to notify the HLE about the status of the low-layer communication module The D-LINK_READY.indication protocol is used to support communication readiness for Electric Vehicles The D-LINK_READY.indication protocol is used to support communication readiness for Electric Vehicle Supply Equipment The D-LINK_READY.indication protocol uses the D-LINKSTATUS term to describe the status of the communication link If no AMP MAP Exchange occurs within the timeout, a D-LINK_READY.INDICATION is sent The requirement V2G3-A09-117 dictates that the D-LINK_READY.indication should be sent under certain conditions The D-LINK_READY.indication is sent to higher layers once a link is established
The D-LINK_READY.indication is sent to higher layers to inform them that the communication link is established The requirement V2G3-A09-120 specifies the time between SLAC_MATCH and D-LINK_READY.indication The transition from the Matching state triggers the D-LINK_READY.indication to indicate the outcome of the data-link setup D-LINK_READY.indication is a protocol signal indicating that a communication link has been successfully established, allowing further processes to begin
A term used to describe a primitive in communication protocols, indicating that a data link is ready for communication)
A communication protocol primitive used to indicate the readiness of a data link for supporting Electric Vehicles (EV) and Electric Vehicle Supply Equipment (EVSE)
<|COMPLETE|>
A protocol indication signaling that a link has been established and is ready for higher layers
A protocol primitive used to signal the success or failure of a data-link setup
A protocol message sent to the HLE indicating readiness when no AMP MAP Exchange occurs
A protocol signal used to inform the HLE that the low-layer communication module has left the logical network and there is no link
A protocol message and signal indicating that a communication link has been successfully established and is ready for higher layer communication. The D-LINK_READY.indication shall inform higher layers about a change of communication link status. This indication shall be sent with any change in link status.
If a data link was established and a D-LINK_READY.indication(link established) was already indicated to higher layers, any detected loss of the data link shall cause a D-LINK_READY.indication(no link) indication to higher layers.
When the low-layer communication module leaves the logical network, it shall inform HLE through the D-LINK_READY.indication (no link).
--------------------------------------------------------------------------------
Entity: D-LINKSTATUS
Description: A term describing the status of a communication link, indicating whether there is no link or a link is established Status of communication link: — no link — link established.
As soon as the lower layers detect a data link after a wake-up, it shall send a D-LINK_READY.indication(link established) to HLE.
--------------------------------------------------------------------------------
Entity: ELECTRIC VEHICLE
Description: <|COMPLETE|>
An Electric Vehicle (EV) is a type of vehicle that uses electric motors for propulsion and can be charged through the grid
An Electric Vehicle (EV) is a type of vehicle that uses electric motors for propulsion and can detect communication loss during charging
An Electric Vehicle (EV) is a type of vehicle that uses electric power for propulsion and must comply with local frequency legislation through the EVSE
An Electric Vehicle (EV) that initiates the signal strength measurement process
An Electric Vehicle (EV) that participates in the validation process by sending and receiving protocol messages
An Electric Vehicle, which is a type of vehicle powered by electric motors using energy stored in rechargeable batteries
An electric vehicle that processes incoming messages and interacts with EVSEs during the parameter exchange and matching process
An electric vehicle that requires connection to a communication module for charging and data exchange
EV refers to Electric Vehicle, which is a type of vehicle that operates on electric power and participates in vehicle-to-grid communication
EV refers to an Electric Vehicle, which is a type of vehicle that operates on electric power
Electric Vehicle (EV) is a type of vehicle that operates using electric power instead of traditional fuel
Electric Vehicle (EV) is a type of vehicle that uses electric motors for propulsion and can be charged via a power outlet
Electric Vehicle (EV) is a type of vehicle that uses electric motors for propulsion and can communicate with EVSE by sending public keys
Electric Vehicle (EV) is a type of vehicle that uses electric motors for propulsion and is involved in the triggering process immediately after the plug-in of the cable assembly
Electric Vehicle (EV) is a type of vehicle that uses electric power for propulsion, mentioned in the context of power flow with EVSE
Electric Vehicle (EV) that connects to and disconnects from the logical network
Electric Vehicle, a general term for vehicles that operate on electric power, including BEVs and PHEVs
Electric Vehicle, a type of vehicle that is powered by electricity instead of traditional fuel sources
Electric Vehicle, a type of vehicle that uses electric motors for propulsion and is capable of being charged through an external power source
Electric Vehicle, which can decide whether to follow the EVSE's recommendation or proceed with the validation process
Electric Vehicle, which initiates the validation process by sending a readiness signal
Electric Vehicle, which interacts with EVSE for charging and communication processes
Electric Vehicle, which is a type of vehicle powered by electricity and capable of interacting with EVSE for charging
Electric Vehicle, which is capable of making decisions on how to proceed in certain situations
Electric Vehicle, which is expected to be prepared for a forced restart by an EVSE during the T_conn_resetup waiting state
Electric Vehicle, which is involved in the communication process and message exchanges in the test case
Electric Vehicle, which is involved in the validation process and must perform certain actions based on the protocol message
Electric Vehicle, which is involved in the vehicle-to-grid communication process and must adhere to specific requirements
Electric Vehicle, which is involved in the vehicle-to-grid communication process and must continue the matching process if certain conditions are met
Electric Vehicle, which is the recipient of charging and communication from the EVSE
Electric Vehicle, which is the recipient of communication from the EVSE and must comply with certain PSD values
Electric Vehicle, which is the recipient of the CM_SLAC_PARM.CNF message in the context of vehicle-to-grid communication
Electric Vehicle, which is the recipient of the communication from the low-layer communication module
Electric Vehicle, which is the subject of the protocol command to change its state
Electric Vehicle, which is the subject of the requirement to continue with the communication process
Electric Vehicle, which is the subject of the timers and validation process described
Electric Vehicle, which is the type of vehicle involved in the matching process mentioned
Electric Vehicle, which is the type of vehicle involved in the parallel injection process
Electric Vehicle, which participates in the SLAC process and communicates with EVSE
Electric Vehicle, which uses electricity as its primary source of propulsion
Electric Vehicle, which uses the low-layer communication module for various communication processes
Electric Vehicle, which uses the method to discover and select communication nodes based on signal strength
An Electric Vehicle (EV) is powered by electric motors and batteries for propulsion, offering an alternative to internal combustion engine vehicles.
An Electric Vehicle (EV) uses electric power for propulsion and is involved in vehicle-to-grid communication processes.
EV stands for Electric Vehicle, which is powered by electricity and uses electric motors for propulsion instead of traditional fuel sources.
Electric Vehicles (EVs), which are powered by electric motors, use energy stored in rechargeable batteries.
An Electric Vehicle is a type of vehicle that operates using electric power stored in batteries and is powered by electric motors.
Electric Vehicle, a type of vehicle powered by electricity.
Electric Vehicle is involved in the validation process with Electric Vehicle Supply Equipment (EVSE).
Electric Vehicles (EVs) are powered by electric motors and batteries instead of internal combustion engines.
Electric Vehicles are a type of vehicle that use electric motors for propulsion and require charging infrastructure.
An Electric Vehicle (EV) is a type of vehicle that uses electric motors for propulsion, requires charging infrastructure like EVSE, and can communicate with it for charging and validation processes.
Electric Vehicle (EV) is a type of vehicle that operates on electric power using electric motors for propulsion, powered by electricity stored in rechargeable batteries or fuel cells.
--------------------------------------------------------------------------------
Entity: EVSE
Description: Electric Vehicle Supply Equipment, which is the infrastructure that supplies electric energy for recharging electric vehicles and interacts with various signals and toggles
Electric Vehicle Supply Equipment, which handles parallel matching processes and monitors control pilot states
Electric Vehicle Supply Equipment involved in the communication process, particularly in sending and receiving specific messages
Electric Vehicle Supply Equipment, which provides recommendations to the electric vehicle regarding the validation process
Electric Vehicle Supply Equipment, which is responsible for receiving and processing messages in the vehicle-to-grid communication system
Electric Vehicle Supply Equipment, which defines the maximum charge current for the vehicle in the HLC-C mode
Electric Vehicle Supply Equipment that calculates signal strength based on M-SOUNDS
Electric Vehicle Supply Equipment, which provides the interface between the electric vehicle and the power source, and can affect signal transmission
Electric Vehicle Supply Equipment (EVSE) is the technology used to supply electric energy for recharging electric vehicles, specifically covered under modes 3 and 4 in this context
<|COMPLETE|>
Electric Vehicle Supply Equipment (EVSE) is the technology responsible for generating the valid duty cycle as per the IEC-1 standard
Electric Vehicle Supply Equipment that communicates with EVs through messages like CM_ATTEN_CHAR.IND during the parameter exchange
Electric Vehicle Supply Equipment, which supplies electric energy for recharging electric vehicles and participates in communication protocols
An Electric Vehicle Supply Equipment (EVSE) is the infrastructure that supplies electric energy for recharging electric vehicles and can make decisions based on ID recognition
Electric Vehicle Supply Equipment, which interacts with the EV during the validation process
Electric Vehicle Supply Equipment (EVSE) is the technology that provides electric energy for recharging electric vehicles and can set a nominal duty cycle
An Electric Vehicle Supply Equipment (EVSE) is the infrastructure that supplies electric energy for recharging electric vehicles and can establish a point-to-point link with an EV using G3PLC technology
Electric Vehicle Supply Equipment, which counts control pilot toggles and communicates results back to the EV
Electric Vehicle Supply Equipment, which can force an EV to restart if it has implemented option A
Electric Vehicle Supply Equipment, the infrastructure that supplies electric energy for recharging electric vehicles and participates in communication protocols like SLAC
Electric Vehicle Supply Equipment provides the infrastructure for charging electric vehicles, offering both electrical energy and communication capabilities, including socket-outlets.
Electric Vehicle Supply Equipment is involved in both matching and validation processes.
Electric Vehicle Supply Equipment provides electric energy for recharging electric vehicles and includes communication capabilities.
Electric Vehicle Supply Equipment provides the necessary infrastructure for charging electric vehicles.
Electric Vehicle Supply Equipment (EVSE) supplies electric energy for recharging electric vehicles, manages communication with the vehicle, handles validation processes including power limitation requests, detects state variations on the control pilot line, ensures compliance with local legislation, and can switch states while connecting to a private network.
Electric Vehicle Supply Equipment (EVSE) is the infrastructure that supplies electric energy for recharging electric vehicles, supports wake-up mechanisms, and facilitates communication with EVs.
--------------------------------------------------------------------------------
Entity: HIGHER LAYERS
Description: The upper layers in a network protocol stack that receive indications from lower layers
The higher layers in a communication system architecture that interact with lower layers to facilitate data exchange
The layers in a communication protocol stack that receive indications from lower layers, such as data link status
The upper layers in a communication protocol stack that handle data before it is passed to lower layers for transmission
The layers in a network architecture that are above the data link control layer, typically responsible for more complex data processing and application services
Higher layers refer to the upper levels in a network architecture that receive link status and error information from the Data Link Control SAP
Higher layers refer to the layers above the data link layer in the network protocol stack, which utilize the services provided by the data link layer
Higher layers refer to the upper layers in a network protocol stack that interact with lower layers like PLC nodes for data exchange and control
Components or protocols that operate at a higher level in the communication stack, utilizing services provided by lower layers
The layers in a communication protocol stack that manage and control data transmission and error handling above the data link layer
Higher layers refer to the upper layers in a network protocol stack where data exchange and visibility among devices in the same logical network occur
The upper layers in a communication system that process data received from lower layers
Higher layers in a communication model or protocol stack manage complex functions including control, identification, and data processing.
Refers to the upper layers of the OSI model, which include the application, presentation, and session layers, responsible for end-user services and data representation.
Higher layers in a protocol stack, whether communication or network, rely on lower layers for data transmission and communication.
--------------------------------------------------------------------------------
Entity: HLE
Description: High-Level Entity, a component or layer that receives notifications and manages higher-level communication tasks
Higher Layers Entities refer to the upper layers in a communication protocol stack that handle complex data processing and application services
High-Level Entity (HLE) is a layer that interacts with the EVSE's communication node, sending protocol messages like D-LINK_ERROR.request
Higher Layer Entity, which receives indications like D-LINK_READY.INDICATION
High Layer Entity (HLE) is a component that interacts with the low-layer communication module to manage network connections
HLE is an organization or entity that can send requests related to the electric vehicle charging process
HLE is a high-level entity or layer in the communication stack or architecture that interacts with the communication nodes of both EVSE and EV.
The Higher Layer Entity (HLE) is a layer in the communication protocol stack that receives indications from lower layers and manages high-level communication processes, including error handling and sending termination requests. As soon as the lower layers detect a data link after a wake-up, it shall send a D-LINK_READY.indication(link established) to HLE.
--------------------------------------------------------------------------------
Entity: LOWER LAYERS
Description: The layers in a communication system that are below the data link layer, responsible for handling the physical and data link aspects of communication
The lower layers in a communication system architecture that handle the physical transmission of data over a channel
The layers in a network stack that are below the current layer, which can be instructed to enter a power-saving mode
The lower layers refer to the foundational levels in a communication protocol stack responsible for data link detection and establishment
The layers in a communication protocol stack that are responsible for data transmission and reception, below the application layer
The lower layers in a communication protocol stack responsible for the actual transmission of data over a medium The D-LINK_TERMINATE.request requests lower layers to terminate the data link.
--------------------------------------------------------------------------------
Entity: MATCHING
Description: The term "Matching" refers to the process of associating entities or elements, specifically in the context of use-case A in ISO 15118-1
A state in a process where the system is attempting to establish a data-link connection Any transition from the state 'Matching' triggers a call of the primitive D-LINK_READY.indication to indicate a successful or failed data-link setup.
The time between the detection of other stations in the current logical network after the SLAC_MATCH exchange and the indication D-LINK_READY.indication (link established) to higher layers shall not exceed the performance timer TP_link_ready_notification.
--------------------------------------------------------------------------------
Entity: TT_AMP_MAP_EXCHANGE
Description: Timeout timer that runs on both EV and EVSE sides after a link is detected, determining if an AMP MAP Exchange will take place
TT_amp_map_exchange is a process involving the exchange of amplitude maps between systems
TT_amp_map_exchange is a term referring to a specific timer used during the communication process in the V2G3-A09-115 standard
A timer used in the communication process to track the duration for which a response is awaited
--------------------------------------------------------------------------------
Entity: V2G3-A09-117
Description: A specific requirement related to the V2G3 standard, detailing conditions under which certain actions must be taken in communication processes
--------------------------------------------------------------------------------
Entity: V2G3-A09-120
Description: A specific requirement related to the timing of network operations in a vehicle-to-grid communication context The time between the detection of other stations in the current logical network after the SLAC_MATCH exchange and the indication D-LINK_READY.indication (link established) to higher layers shall not exceed the performance timer TP_link_ready_notification.
--------------------------------------------------------------------------------


TABLE INFORMATION:
Table 1: [V2G3-M12-01] - Table 4 — D-LINK_READY.indication primitive
Table 2: A.8 Timings and constants - Table A.1 (continued)
Table 3: A.9.6.2 Description of involved MMEs - Table A.9 — MMEs parameters definition for amplitude map exchange

FIGURE INFORMATION:
Figure 1: 9.1 Overview - Figure 11 — Matching state machine

Image Description for Figure 11:
# Detailed Description of the Connection Coordination Flow Chart (Figure 3)

Below is a step-by-step explanation in **Markdown** format, intended to help engineers quickly understand every element and pathway in the flow chart. The chart corresponds to “Figure 3” in the ISO 15118‑3 documentation, specifically showing **AC EVSE** behavior supporting PnC (Plug and Charge) and EIM (External Identification Means), with the **matching process** not started before EIM completion, and the **5 % control pilot duty cycle** is applied after the vehicle plugs in.

---

## 1. Entities Overview

**From the figure and key, these entities appear:**

1. **Plug-in**  
   - The event of connecting the EV’s inlet to the EVSE’s connector.

2. **Re-init**  
   - A restart of the session (without unplugging) by applying Control Pilot state E transition (often triggered by error handling).

3. **X1 or X2 (5 %)**  
   - Control Pilot (CP) state at 5 % duty cycle (or nominally “X1” if not yet stabilized).  
   - NOTE 1: As indicated, CP state “X1” is allowed instead of “X2 (nom.)” per IEC‑3 Table 5.

4. **X2 (5 % or nom.) "Matched state" and authorization OK**  
   - A state signifying that the EV and EVSE have achieved a matched condition at CP state X2 (which can be 5 % or nominal duty cycle); authorization is validated.

5. **EIM done & matching process not started**  
   - A condition where EIM (External Identification Means) is completed, but the V2G “matching process” (high-level communication negotiation) has not yet begun.

6. **E/F (0 %)**  
   - A Control Pilot state indicating 0 % duty cycle. Typically used for error or re-initialization handling.

7. **T_step_EF**  
   - The time duration for which the system remains in control pilot states E or F (0 %), as required by certain error or transition handling.

8. **X2 (nom.)**  
   - Control Pilot state at the nominal duty cycle for AC charging (different from the 5 % duty cycle).

9. **PnC**  
   - “Plug and Charge,” meaning automatic identification/authorization of the EV without separate user action.

10. **EIM**  
   - “External Identification Means,” such as RFID or other manual authentication methods.

11. **BC (Basic Charging)**  
   - Charging controlled purely by IEC 61851‑1 signals (i.e., CP PWM duty cycle).  
   - Represented in the flow chart as “BC” or “charging controlled by IEC 61851‑1.”

12. **HLC‑C**  
   - High‑Level Communication (HLC) for charging control, typically governed by the ISO 15118 V2G communication protocol.  
   - This is shown as “HLC‑C” or “charging controlled by high-level communication.”

13. **b) EIM w. BC**  
   - A specific branch in the flow chart where EIM is used and the charging is performed with Basic Charging (IEC 61851‑1) once authorized.

14. **c) EIM w/o BC**  
   - A branch where EIM is used, but the charging control is done via High‑Level Communication (HLC‑C).

15. **d) [IEC‑1] Charging**  
   - A branch illustrating basic IEC 61851‑1 charging (without HLC‑C).  
   - NOTE 2: Indicated in the figure that branch d) is for EVs not supporting HLC‑C.

16. **V2G Setup finished**  
   - The end of the V2G (Vehicle‑to‑Grid) high‑level communication setup. After this, power transfer can begin in the chosen mode (PnC, EIM w. BC, EIM w/o BC, or plain IEC 61851‑1).

17. **Trigger condition**  
   - Noted in the legend as the condition that prompts a transition in the flow (e.g., “Plug-in,” “Re-init”).

18. **Possible procedure vs. Mandatory procedure**  
   - The figure’s arrow styles:  
     - Dotted Arrow = Possible procedure  
     - Solid Arrow = Mandatory procedure

---

## 2. Key/Notes from the Figure

- **“NOTE 1: CP state X1 is allowed instead of X2 (nom.) following [IEC‑3] (Table 5).”**  
  This means that shortly after plug-in, the EVSE might momentarily apply CP state X1 before transitioning to X2(nom.) or X2(5 %).  
- **“NOTE 2: Branch d) is for EVs not supporting HLC‑C.”**  
  Some EVs are incapable of high-level communication for AC charging; in that case, they can only proceed with the basic IEC 61851‑1 method, shown in branch d).

---

## 3. Step-by-Step Flow Description

Below is the sequence of steps shown in the diagram, from left to right and top to bottom.  

1. **Plug-in**  
   - The EV is connected to the EVSE.  
   - At this moment, the EVSE typically sets the Control Pilot to either **X1** or **X2 (5 %)**.

2. **Initial CP State: X1 or X2 (5 %)**  
   - According to the standard, the EVSE might start with a 5 % duty cycle to indicate a low-current or minimal power state.  
   - **In parallel**, a “Re-init” action could also lead the CP state back to **X1 or X2 (5 %)** (this can happen if an error arises and the EVSE needs to reset the session without physically unplugging).

3. **Two Parallel Paths Emerge**  

   ### Path A – “Matched State” with Authorization (Top Branch)

   3A. **X2 (5 % or nom.) "Matched state" and authorization OK**  
       - If the EV and EVSE move quickly into a matched state at X2 (either 5 % or nominal), and the EV’s authorization is confirmed (for example, via **PnC** credentials automatically), then it proceeds as follows:

   4A. **PnC**  
       - This indicates “Plug and Charge.” The EVSE instructs high-level communication for finalizing charging parameters.

   5A. **HLC‑C**  
       - The EVSE and EV exchange ISO 15118 (V2G) messages. This is mandatory if using PnC in AC-charging with HLC.

   6A. **V2G Setup finished**  
       - Once the high-level communication successfully completes, the system is ready and can begin actual power transfer under the PnC agreement.  

   *(End of Path A)*

   ### Path B – EIM Done & Matching Not Started (Middle Branch)

   3B. **EIM done & matching process not started**  
       - The EIM process (e.g., scanning an RFID card) is finished, but the V2G “matching” session has not begun.  
       - The EVSE transitions to an error or reset state on the Control Pilot:

   4B. **E/F (0 %)**  
       - The duty cycle is driven to 0 %. This is an error/reset state or a neutral state forcing the EV to stop momentarily.

   5B. **T_step_EF**  
       - The EVSE remains in CP state E or F for a required duration (T_step_EF). This wait is mandatory before re-enabling a normal charging state.

   6B. **X2 (nom.)**  
       - After T_step_EF, the EVSE sets the duty cycle to the nominal level (X2). This indicates an intent to supply standard AC current.  

   From **X2 (nom.)**, we see three sub-branches:

   - **b) EIM w. BC**  
     7b. The “b)” label indicates “EIM with Basic Charging.” Once the system is at X2(nom.), the EV can start charging based solely on **IEC 61851‑1**.  
     8b. **BC** is used (the PWM duty cycle signals the requested current).  
     9b. **V2G Setup finished** (here, it effectively means no high-level comm is used for controlling power or has ended).  
     10b. Charging proceeds with BC.

   - **c) EIM w/o BC**  
     7c. The “c)” label indicates “EIM without Basic Charging,” meaning the EV and EVSE do use **HLC‑C** (ISO 15118 high-level communication) to regulate charging.  
     8c. **HLC‑C** is started. The standard’s V2G messages help orchestrate the charging session.  
     9c. **V2G Setup finished.**  
     10c. Charging now occurs under high-level communications, with EIM credentials having authorized it.

   - **d) [IEC‑1] Charging**  
     7d. The “d)” label references **IEC 61851‑1**-only charging. **NOTE 2** states that this branch is used by EVs that do **not** support HLC‑C.  
     8d. The EVSE continues in Basic Charging mode with the nominal duty cycle on the Control Pilot.  
     9d. The EV charges following **IEC 61851‑1** specifications.  

   *(End of Paths B, b), c), and d) )*

---

## 4. Relationship and Connection of Entities

- **Trigger conditions (“Plug-in” / “Re-init”)**: These conditions cause the CP state to go to **X1 or X2 (5 %)**. Re-init is typically an internal reset without physical disconnection.  
- **Control Pilot States (X1, X2, E, F)**: These represent distinct duty-cycle signals sent by the EVSE to the EV.  
- **EIM or PnC**:  
  - **PnC** automatically authorizes the EV if it supports the ISO 15118 plug-and-charge certificate exchange.  
  - **EIM** involves an external user action (e.g., RFID card).  
- **HLC‑C** vs. **BC**:  
  - **HLC‑C** stands for “High‑Level Communication Controlled” charging, governed by ISO 15118 messages.  
  - **BC** stands for “Basic Charging,” governed by IEC 61851‑1 duty cycle alone.  
- **Matching Process**: The step where the EV and EVSE exchange messages to confirm that advanced communication is possible and desired (via HLC‑C). In the figure, if that process is “not started” before EIM is done, the EVSE is shown forcing a short E/F(0 %) state before rejoining the nominal X2.  
- **T_step_EF**: A defined time to remain at 0 % duty cycle for transitional or error recovery steps.  

---

## 5. Extras / Notes

- **NOTE 1**: The chart allows CP State X1 as an alternative to X2(nom.) in early or transitional steps, aligning with IEC standards.  
- **NOTE 2**: The “d)” branch specifically caters to EVs that cannot handle ISO 15118 high-level communication. They will remain in IEC 61851‑1 basic mode.  
- **Mandatory vs. Possible Procedures**:  
  - Solid arrows are steps that must occur according to the standard if the conditions apply.  
  - Dashed or dotted arrows are possible transitions depending on EV/EVSE capabilities.  

---

### Summary

In essence, **Figure 3** shows how an **AC EVSE** can handle different authorization scenarios (**PnC** or **EIM**) and how the system either proceeds into **high-level communication** (HLC‑C) or stays with **basic IEC 61851‑1** charging. The *matching process* for ISO 15118 can begin once the EV is at a suitable control pilot state (X2). If the EV does **not** support HLC‑C, it will remain at nominal duty cycle X2 and proceed with basic AC charging (branch **d**). For an EV that does support HLC‑C, it can either do **PnC** (branch **a**) or **EIM** (branches **b/c**) with high-level communication or fallback to BC if HLC fails.

All paths ensure that the EVSE and EV coordinate on CP states (X1, X2, E/F with 0 %) to manage transitions (like resets or error states) before the final charging mode is achieved.


Image Description for Figure 1:
# Detailed Description of Figure 1 — Overview of [ISO‑0] in the ISO/IEC OSI Reference Model

Below is a comprehensive, step-by-step explanation of the diagram labeled **“Figure 1 — Overview of [ISO-0] in the ISO/IEC OSI reference model.”** Although this figure is not a traditional “flowchart” (with decision diamonds or arrows depicting process steps), it provides a layered architectural view of how the ISO 15118 standards align with the classic ISO/IEC Open Systems Interconnection (OSI) reference model. In the sections below, each labeled entity is identified, and its role and connections are described in detail.

---

## 1. Entities in the Figure

1. **OSI layer 1 Physical**  
2. **OSI layer 2 Data link**  
3. **OSI layer 3 Network**  
4. **OSI layer 4 Transport**  
5. **OSI layer 5 Session**  
6. **OSI layer 6 Presentation**  
7. **OSI layer 7 Application**  
8. **Vehicle-to-Grid communication**  
9. **ISO 15118‑1**  
10. **General information and use-case definition**  
11. **ISO 15118‑2**  
12. **Network and application protocol requirements**  
13. **V2G standardized service primitive interface**  
14. **ISO 15118‑3**  
15. **Physical layer and Data link layer requirements**  
16. **Figure 1 — Overview of [ISO‑0] in the ISO/IEC OSI reference model**  

---

## 2. Overall Structure of the Diagram

The figure is conceptually divided into three major sections (from bottom to top):

1. **Lower Layers (OSI Layer 1 and 2)** – Represented by the ISO 15118‑3 standard.  
2. **Intermediate Layer Boundary** – Indicated by the “V2G standardized service primitive interface,” which bridges ISO 15118‑3 with the higher-layer protocols.  
3. **Higher Layers (OSI Layers 3 through 7)** – Represented by the ISO 15118‑2 standard for network and application-level communication, with references to ISO 15118‑1 for general concepts and use-case definitions.  

Within the big outer box labeled “Vehicle-to-Grid communication,” two standards are highlighted:
- **ISO 15118-1** (covering general info and use-case definitions)
- **ISO 15118-2** (covering network and application protocol requirements)

At the bottom, a second large box is labeled **ISO 15118-3** (covering physical and data link layer requirements). Between these two boxes, a horizontal band is labeled **V2G standardized service primitive interface**, indicating the interface boundary where higher-level protocols interact with physical and data link services.

---

## 3. Layer-by-Layer Description

### 3.1 OSI Layer 1 (Physical)
- **Name in Diagram**: “OSI layer 1 Physical.”  
- **Role**: The physical layer is responsible for the transmission and reception of raw bitstreams over a physical medium—e.g., the actual cable or wireless medium used for communications.  
- **Referenced Standard**: **ISO 15118‑3** covers the physical layer requirements, ensuring that electric vehicles (EVs) and charging stations (EVSEs) are interoperable at the physical signal level (e.g., Power Line Communication (PLC), electromagnetic compatibility requirements, etc.).

### 3.2 OSI Layer 2 (Data Link)
- **Name in Diagram**: “OSI layer 2 Data link.”  
- **Role**: The data link layer establishes and terminates a connection between two physically connected nodes, handling error detection/correction and basic framing.  
- **Referenced Standard**: **ISO 15118‑3** also covers the data link layer requirements (e.g., MAC addressing, PLC MAC layer specifics) to ensure a stable “low-layer” communication for Vehicle-to-Grid (V2G).

Both Layer 1 and Layer 2 appear inside the “ISO 15118‑3” box. They are the core focus of “Part 3” of the ISO 15118 series, which defines how signals and data frames are sent over the physical medium and how they link up into a standardized “pipe” for higher-layer messages.

### 3.3 V2G Standardized Service Primitive Interface
- **Name in Diagram**: “V2G standardized service primitive interface.”  
- **Role**: This horizontal band sits between the physical/data link layers (bottom) and the upper layers (top). It serves as a boundary or interface that allows the protocols described in ISO 15118‑2 (network and application) to communicate with the lower-layer technology specified by ISO 15118‑3.  
- **Importance**: It defines how services and primitives (e.g., data requests, acknowledgements, connection management) are exchanged between the data link layer and higher network/application layers. This is the main “handshake” region that ensures a consistent interface across potentially different hardware or firmware implementations.

### 3.4 OSI Layer 3 (Network)
- **Name in Diagram**: “OSI layer 3 Network.”  
- **Role**: The network layer handles packet forwarding, including routing through intermediate routers. In the scope of V2G, it organizes data exchange at the IP layer (or other possible network-layer protocols).  
- **Referenced Standard**: **ISO 15118‑2** is responsible for specifying how the network layer is used for V2G communication (e.g., IP addressing, transport selection requirements).

### 3.5 OSI Layer 4 (Transport)
- **Name in Diagram**: “OSI layer 4 Transport.”  
- **Role**: Responsible for reliable or unreliable end-to-end transport of data (e.g., TCP/UDP). In V2G contexts, this layer ensures robust message delivery or streaming.  
- **Referenced Standard**: Again, covered by **ISO 15118‑2**, which dictates how the transport layer interacts with the network layer and the session layer to support the V2G protocols.

### 3.6 OSI Layer 5 (Session)
- **Name in Diagram**: “OSI layer 5 Session.”  
- **Role**: Helps manage and control the connections between applications, establishing, maintaining, and terminating communication sessions.  
- **Referenced Standard**: Part of the **ISO 15118‑2** coverage, ensuring session-oriented capabilities (like initiating a charging session, exchanging messages for contract authorization, etc.).

### 3.7 OSI Layer 6 (Presentation)
- **Name in Diagram**: “OSI layer 6 Presentation.”  
- **Role**: Ensures that data is in a usable format for the application layer—handling data encryption, serialization, and translation if necessary.  
- **Referenced Standard**: **ISO 15118‑2** also governs how data representation and encoding details (e.g., XML, EXI) are handled in the V2G messages.

### 3.8 OSI Layer 7 (Application)
- **Name in Diagram**: “OSI layer 7 Application.”  
- **Role**: Closest to the end-user; in V2G, it describes the application-level data exchanges that facilitate use-cases like contractual identification, pricing, charging profiles, and energy management.  
- **Referenced Standard**: **ISO 15118‑2**. All relevant V2G messages (e.g., request/response for charging schedules, authentication, or payment) are part of the application layer protocols described here.

### 3.9 Vehicle-to-Grid Communication (Top-Level Box)
- **Name in Diagram**: “Vehicle-to-Grid communication.”  
- **Role**: This large box depicts the entire scope of “V2G” communication from an OSI perspective—covering from network to application aspects. It conceptually contains two key parts:
  1. **ISO 15118‑1** (General information and use-case definition)  
  2. **ISO 15118‑2** (Network and application protocol requirements)

  Where **ISO 15118‑1** sits within the conceptual top-level because it outlines overarching use-cases and contexts, while **ISO 15118‑2** addresses the technical details of how to implement them in the network/application layers.

### 3.10 ISO 15118‑1
- **Name in Diagram**: “ISO 15118‑1.”  
- **Caption**: “General information and use-case definition.”  
- **Role**: Provides the foundational concepts, goals, and use-case scenarios for V2G. It does not specify OSI layers per se but offers the background and scope for the more technical parts (‑2 and ‑3).

### 3.11 ISO 15118‑2
- **Name in Diagram**: “ISO 15118‑2.”  
- **Caption**: “Network and application protocol requirements.”  
- **Role**: Defines how the EV and EVSE communicate over the network and at the application layer to fulfill the use-cases that ISO 15118‑1 describes. It covers OSI layers 3 through 7 and ensures interoperability in message structuring, security, authentication, plug-and-charge features, etc.

### 3.12 ISO 15118‑3
- **Name in Diagram**: “ISO 15118‑3.”  
- **Caption**: “Physical layer and Data link layer requirements.”  
- **Role**: Specifies the physical mediums, data link procedures (PLC modems, MAC sublayer specifics), and any hardware-level interoperability requirements, including timing, cable specifications, electromagnetic compatibility, etc. This standard ensures that EV and EVSE can transmit signals reliably so that higher-layer protocols (ISO 15118‑2) can function as intended.

---

## 4. Relationship and Connections

1. **ISO 15118‑3 → V2G Standardized Service Primitive Interface**  
   - ISO 15118‑3 defines how data is physically encoded/decoded, then delivered to the next layer via service primitives. The horizontal interface states exactly how these data units or service requests move up to the higher layers.

2. **V2G Standardized Service Primitive Interface → ISO 15118‑2**  
   - The standardized interface allows protocols defined in ISO 15118‑2 to operate independently of the underlying physical or data link technologies. This separation provides modularity and helps different hardware implementations remain compatible as long as they abide by the same interface primitives.

3. **ISO 15118‑2 → OSI Layers 3–7**  
   - ISO 15118‑2 “lives” across the network, transport, session, presentation, and application layers, specifying how messages are constructed, routed, and validated for end-to-end V2G communication.

4. **ISO 15118‑1 → Overall**  
   - Although not explicitly mapped to a single OSI layer, ISO 15118‑1 supplies the conceptual building blocks—e.g., high-level use-cases, general requirements, and definitions—that shape the services needed in layers 1–7.

5. **Vehicle-to-Grid Communication (Overall)**  
   - Encompasses the end-to-end scenario, from the physical signals (lowest layer) to the application messages (highest layer). The entire diagonal or wave-like region that includes ISO 15118‑1 and ISO 15118‑2 is conceptually the V2G communication “stack,” reliant upon the hardware-level foundation described by ISO 15118‑3.

---

## 5. How the Diagram “Flows”
While not a classic procedural “flowchart,” the layering suggests an upward flow of data and messages:

1. **Physical/Layer 1**: Signals on the cable or PLC.  
2. **Data Link/Layer 2**: Data is framed, and local links are established error-free.  
3. **V2G Service Interface**: The boundary where well-defined primitives let higher-level protocols control or request link services.  
4. **Network, Transport, Session, Presentation, Application (Layers 3–7)**: Actual V2G messages, session management, security, and application data (e.g., payment, contract ID exchange).  

Each standard (ISO 15118‑1, ISO 15118‑2, and ISO 15118‑3) is responsible for a portion of this layered model. ISO 15118-1 sets the context, ISO 15118-2 handles the upper communication layers, and ISO 15118-3 ensures the physical/data link reliability.

---

## 6. Key Takeaways for Engineers

- **Separation of concerns**: The figure neatly distinguishes the physical/data link requirements (ISO 15118‑3) from the network-to-application requirements (ISO 15118‑2), with ISO 15118‑1 providing conceptual underpinnings.  
- **Modularity**: By adhering to the OSI layering, manufacturers can update physical or data link implementations without forcing redesign of higher-layer protocols, as long as the standardized service interface remains intact.  
- **Interoperability**: Each layer’s compliance ensures that an EV from one vendor can communicate effectively with an EVSE from another vendor—covering everything from signal waveforms to network addresses to high-level billing transactions.

---

**Figure 1** thus serves as a foundational reference for how the entire V2G communication stack (layers 1 through 7) aligns with the separate parts of the ISO 15118 standard, illustrating the scope and boundary of each part in the OSI model. The layered design promotes a robust, flexible, and interoperable charging ecosystem for electric vehicles and charging infrastructure.

Figure 2: A.9.6.3.1 Sequence chart - Figure A.8 — Sequence chart of amplitude map exchange

Image Description for Figure 2:
```markdown
# Detailed Description of Figure 2 — [ISO-3] Relationship to the ISO/IEC OSI Reference Model

This figure shows how the Physical and Data Link layers used in ISO 15118‑3 (specifically for Power Line Communication on electric vehicles) align with the classic ISO/IEC 7498-1 (OSI) reference model. It illustrates the layered network architecture, culminating in interfaces that connect to higher-level protocols (Application, Presentation, Session, Transport, Network) and basic signaling (Control Pilot) as specified in IEC 61851‑1.

Below is a step-by-step, layer-by-layer description of each entity in the figure and how they relate to each other.

---

## 1. Entities Overview

From **bottom** to **top**, the following entities appear in the diagram:

1. **Communication media**  
   The physical medium (the cable assembly) through which signals and energy are exchanged between the Electric Vehicle (EV) and the Electric Vehicle Supply Equipment (EVSE).

2. **Signal coupling**  
   This represents the method of coupling the PLC (Power Line Communication) signal onto the AC or DC charging cable. It ensures the high-frequency PLC signal is injected or extracted without interfering with the power transfer itself.

3. **PLC Physical layer**  
   The physical layer of the Power Line Communication (e.g., HomePlug GreenPHY). It defines the electrical and modulation specifications required to transmit bits over the communication media.

4. **MAC/PHY SAP**  
   The Service Access Point between the PHY (Physical) and MAC (Medium Access Control) layers. It represents the interface through which the upper layer (MAC) exchanges data and control information with the physical layer.

5. **PLC MAC layer**  
   The Medium Access Control layer that handles packet framing, addressing, and channel-access mechanisms specific to PLC (e.g., carrier-sense multiple access, collision avoidance, etc.).

6. **Convergence MAC SAP**  
   The interface between the PLC MAC layer and the convergence layer. It ensures that data from higher-layer protocols is properly formatted for MAC-layer transmission and vice versa.

7. **Convergence layer**  
   A bridging layer that adapts the classic OSI Data Link–level services (like Ethernet bridging or VLAN tagging) into the specific requirements/format of the PLC protocols. It converges or translates data to align with HomePlug GreenPHY or other PLC standards.

8. **Control SAP**  
   A specialized Service Access Point providing a control interface for the PLC or other network-management functions (e.g., encryption key management, SLAC services, link status queries). This is used by upper software modules that need direct PLC-related control/configuration.

9. **Data link control SAP**  
   An interface that provides link-status information, error management, and other data link control functionalities. This SAP ties the connection coordination module to the lower-level Data Link functionalities.

10. **Connection coordination**  
   A functional block that coordinates establishing or tearing down logical connections. It helps with matching EVs to EVSEs, exchanging handshake signals, and managing the relationship between basic IEC 61851-1 signaling and the higher, logical data connections of ISO 15118.

11. **Data SAP**  
   The interface between the Data Link layer and the Network (layer 3) or higher layers for actual V2G (vehicle-to-grid) data exchange. All high-level charging messages (e.g., those required by ISO 15118-2) flow through the Data SAP.

12. **Higher layers**  
   In OSI terms, these encapsulate the Application, Presentation, Session, Transport, and Network layers. ISO 15118-2 typically operates at these layers (exchanging XML messages, session management, security, etc.).

13. **Control pilot (IEC 61851-1) Hardware I/Os**  
   Shown to the right, this denotes the separate hardware line(s) used for “basic signaling” (PWM duty cycle, pilot states, etc.). It is not strictly part of the PLC communication stack but interplays with it (for example, telling the EV and EVSE when to begin or end coupling for high-level communication).

14. **OSI reference model layers**  
   A vertical bracket on the left reminding us that Physical and Data Link layers in the OSI model are here implemented by the PLC layers and the “convergence layer.”

15. **Key**: “covered by communication technology specification”  
   The figure highlights (in gray) the parts (Convergence layer, PLC MAC, PLC PHY, etc.) that are defined by specific communication technology standards (e.g., HomePlug GreenPHY, IEEE 1901 Profile GreenPHY).

---

## 2. Detailed Layer-by-Layer Explanation and “Flow”

Although this is not a conventional “flowchart,” the diagram can be read from the **Physical** layer at the bottom to the **Application** layer at the top to understand how data flows and which components interact:

1. **Communication Media (Bottom Layer)**  
   • Power cabling used for vehicle charging is also used to carry data signals.  
   • Power is transferred from the EVSE to the EV; meanwhile, high-frequency signals are superimposed for data exchange.

2. **Signal Coupling Layer**  
   • Couples the PLC signal on top of the AC or DC power line.  
   • Ensures minimal interference and correct impedance matching to pass data effectively between EV and EVSE.

3. **PLC Physical Layer**  
   • Responsible for modulating and demodulating waveforms on the power line.  
   • Follows standards such as HomePlug GreenPHY for robust physical signaling (e.g., OFDM, error correction).

4. **MAC/PHY SAP**  
   • Logical interface that the MAC layer uses to send and receive frames (bits, symbols) via the Physical layer.  
   • Transmits or receives packets after being encoded/decoded at the PHY.

5. **PLC MAC Layer**  
   • Implements media access rules (channel sensing, collision avoidance, etc.).  
   • Adds header/trailer fields managing addressing and error detection.  
   • Manages bridging to upper or lower layers via convergence sub-layers.

6. **Convergence MAC SAP**  
   • Provides a standardized interface for the next layer (Convergence layer) to get data from MAC frames.  
   • Ensures correct framing and token passing between the Convergence and MAC layers.

7. **Convergence Layer**  
   • Adapts the PLC MAC frames into a more generic data link structure or vice versa.  
   • Potentially includes bridging or VLAN tagging for IP-based or ISO 15118-2 application data.  
   • At this layer, the system transitions from technology-specific data link frames to a more general data link service usable by higher protocols.

8. **Control SAP**  
   • A specialized side-interface that configuration/control processes (like encryption-key management or the SLAC process used for EV–EVSE association) can call.  
   • Enables reading/writing certain parameters in the PLC MAC or PHY, including link status, encryption keys, and networking specifics.

9. **Data Link Control SAP**  
   • Presents data link status (connected, disconnected, error) and handles command signals for enabling or disabling link functionalities.  
   • Ties in to the Connection Coordination function, letting higher-layer logic know about link conditions.

10. **Connection Coordination**  
    • Supervises or orchestrates which link or channel is used, how the handshake or matching occurs, and whether the EV and EVSE are “paired.”  
    • Tightly integrated with basic signaling from IEC 61851-1 (Control Pilot) and high-level communication from ISO 15118-2.

11. **Data SAP**  
    • The normal “data” interface for exchanging V2G protocol payloads (e.g., charging session requests, contract identification) between the Data Link layer and the higher OSI layers (Network and above).  
    • Actual ISO 15118-2 messages pass through this Data SAP after being encapsulated into MAC frames.

12. **Higher Layers**  
    • Spanning OSI Layers 3 to 7 (Network, Transport, Session, Presentation, Application).  
    • In the context of ISO 15118, these higher layers format, encrypt, and interpret the actual “plug-and-charge” or “vehicle-to-grid” messages.

13. **Control Pilot (IEC 61851-1) Hardware I/Os**  
    • Shown on the right side as a separate domain.  
    • Provides basic PWM signaling to indicate EV states, EVSE states, maximum current capability, presence of the EV, or charging fault conditions.  
    • Ties into overall Connection Coordination to start or stop the PLC communication as required by the standard.

---

## 3. Relationship and Connection of Entities

- **Physical to MAC**  
  Data moves from the **Communication media** (power lines) through **Signal coupling** into the **PLC Physical layer**, which transmits/receives bits. The **MAC/PHY SAP** is then used to pass frames to/from the **PLC MAC layer**.

- **MAC to Convergence**  
  The **PLC MAC layer** sends or receives data frames to the **Convergence layer** through the **Convergence MAC SAP**. At this stage, commands and bridging logic are aligned with the needs of higher-level protocols.

- **Convergence to Higher Protocols**  
  After the Convergence layer, there are multiple SAPs:
  1. **Control SAP** for direct PLC control and configuration queries (e.g., security keys, link info).  
  2. **Data Link Control SAP** for controlling the link status, error notifications, and link enable/disable.  
  3. **Data SAP** for normal data traffic that flows up to the OSI Network or Transport layers.

- **Coordination with Basic Signaling**  
  The **Connection coordination** block leverages the **Control SAP** and **Data link control SAP** to manage the handshake between the EV and EVSE at both the PLC level and the basic PWM signaling level. Meanwhile, the **Control pilot** line (IEC 61851-1) physically coordinates the presence detection and permissible current via the duty cycle.

- **Higher Layers**  
  Above the **Data SAP**, normal IP networking (or the ISO 15118-2 application messages) can proceed. These higher-layer protocols rely on the data path established at lower layers by the PLC system and are orchestrated by the **Connection coordination** function.

---

## 4. Key Takeaways

1. **Layered Architecture**  
   The figure highlights how the Physical and Data Link layers of ISO 15118‑3 map directly onto the OSI reference model. The “convergence layer” ensures that higher layers can remain mostly independent of the underlying PLC technology.

2. **Control vs. Data**  
   Two main SAP families exist:  
   - **Control SAP / Data Link Control SAP**: For link management, error reporting, and secure network configuration.  
   - **Data SAP**: For passing normal application data (ISO 15118-2 messages) to the upper layers.

3. **Basic Signaling Integration**  
   IEC 61851-1’s control pilot is shown outside the PLC stack, yet it is integral to “Connection coordination,” ensuring correct startup, safety interlocks, and fallback charging states.

4. **Covered by Communication Technology Specification**  
   The gray regions (Convergence layer, MAC, PHY) are implementations guided by specific PLC standards (e.g., HomePlug GreenPHY). They are thus “covered by communication technology specification.”

By understanding each block and interface, engineers can quickly trace how signals and data flow from the power line (physical) up to the ISO 15118 application protocol, and how the system coordinates the link state with basic pilot signaling.
```


TEXTUAL INFORMATION:
Text 1: 7.6.2 Wake-up (Context: 7.6.2 Wake-up > 7.6 Sleep mode and wake-up > 7 Connection coordination) - [V2G3-M07-21] As soon as the lower layers detect a data link after a wake-up, it shall send a D-LINK_READY.indication(link established) to HLE.
Text 2: 9.5 Set-up a logical network (Context: 9.5 Set-up a logical network > 9 Matching EV — EVSE process > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - [V2G3-M09-16] As soon as the EV has successfully joined the logical network of the EVSE, both entities are in the status “Matched”. The communication node shall inform HLE through the D-LINK_READY.indication (link established) that HLE’s binding pro- cess can begin.
Text 3: 9.6 Leave the logical network (Context: 9.6 Leave the logical network > 9 Matching EV — EVSE process > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - [V2G3-M09-18] When the low-layer communication module leaves the logical network, it shall inform HLE through the D-LINK_READY.indication (no link).
Text 4: 9.1 Overview (Context: 9.1 Overview > 9 Matching EV — EVSE process > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - Figure 11 shows a high-level overview of the matching process. The default state of a PLC node at plug- in is “Unmatched”. A control pilot state change from state A, E or F to B, C or D triggers the matching process (state “Matching” in Figure 11) which determines the correct EV-EVSE matching by signal strength measurement. A successful matching process leads to the state “Matched” in Figure 11.
Text 5: 9.1 Overview (Context: 9.1 Overview > 9 Matching EV — EVSE process > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - Any transition from the state “Matching” triggers a call of the primitive D-LINK_READY.indication to indicate a successful or failed data-link setup.
Text 6: 9.1 Overview (Context: 9.1 Overview > 9 Matching EV — EVSE process > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - Any loss of the control pilot or a request from HLE leads to a reset to state “Unmatched”.
Text 7: A.9.6.3.2 EV and EVSE sides (Context: A.9.6.3.2 EV and EVSE sides > A.9.6 Amplitude map exchange > A.9 Matching EV – EVSE process) - [V2G3-A09-120] The time between the detection of other stations in the current logical network after the SLAC_MATCH exchange and the indication D-LINK_READY.indication (link established) to higher layers shall not exceed the performance timer TP_ link_ready_notification.
Text 8: 7.5 Loss of communication (Context: 7.5 Loss of communication > 7 Connection coordination > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - This Clause covers the situation where the communication link is lost. A loss of communication after the establishment of a data link [D-LINK_READY.indication(link established) was already indicated] is handled by higher layers, by requesting with D-LINK_ERROR.request.
Text 9: 7.5 Loss of communication (Context: 7.5 Loss of communication > 7 Connection coordination > Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements) - [V2G3-M07-03] If a data link was established and a D-LINK_READY.indication(link established) was already indicated to higher layers, any detected loss of the data link shall cause a D-LINK_READY.indication(no link) indication to higher layers.

ADDITIONAL CONTEXT:
Related Information 1: [V2G3-M07-22] If the EVSE or EV is in “Matched state” and has been woken up from the counter- part station, the low-layer communication module shall be configured to the last known logical network parameter set. (sibling of Text 1)
Related Information 2: [V2G3-M07-23] In case of a wake up trigger from the counterpart station, the low-layer communi- cation module shall be ready in maximum T_conn_resume after the trigger (B1/ B2, BCB-Toggle). (sibling of Text 1)
Contextual Information 1: 7.6.2 Wake-up (ancestor of Text 1)
Contextual Information 2: 7.6 Sleep mode and wake-up (ancestor of Text 1)
Contextual Information 3: 7 Connection coordination (ancestor of Text 1)
Related Information 3: According to the low-layer communication technology, a logical network might have to be built in order to enhance the communication. (sibling of Text 2)
Contextual Information 4: 9.5 Set-up a logical network (ancestor of Text 2)
Contextual Information 5: 9 Matching EV — EVSE process (ancestor of Text 2)
Contextual Information 6: Road vehicles — Vehicle to grid communication interface — Part 3: Physical and data link layer requirements (ancestor of Text 2)
Related Information 4: [V2G3-M09-17] With receiving a D-LINK_TERMINATE.request from HLE, the communication node shall leave the logical network within TP_match_leave. All parameters related to the current link shall be set to the default value and shall change to the status “Unmatched”. (sibling of Text 3)
Contextual Information 7: 9.6 Leave the logical network (ancestor of Text 3)
Related Information 5: A unique matching between the EV and a specific charge coupler of the EVSE is necessary for most of the use cases. After the matching process, which is defined within this Clause, upper layers are able to proceed their binding process. Interfaces related to data link status between the layers are defined in Clause 12. Depending on the communication signal paths, the matching process depends on the infrastructure topology. (sibling of Text 4)
Related Information 6: Under some technical conditions, the matching process might render ambiguous results. In this case, an additional validation process based on a signalling through the control pilot line can be necessary to confirm the matching. (sibling of Text 4)
Related Information 7: Figure 10 gives a generic overview of the matching process. The full description is given in the corresponding annex. (sibling of Text 4)

Image Description for Figure 10:
# Detailed Description of Figure 10 — EV Point of View (Matching Process)

Below is a step-by-step walkthrough of the flowchart. The diagram illustrates how an Electric Vehicle (EV) determines the correct Electric Vehicle Supply Equipment (EVSE) connection (i.e., “matching”) based on discovery, signal strength measurements, possible validation, and ultimately setting up or failing to set up a data link.

---

## 1. List of Key Entities in the Figure

1. **Entering matching process**  
   - Represents the beginning of the procedure once the EV is ready to identify which EVSE it is physically connected to.

2. **Discovery of the connected communication nodes**  
   - The EV discovers all communication nodes (EVSEs) detected on the physical link.

3. **Signal strength measurement**  
   - The EV measures signal strength metrics from all discovered communication nodes.  
   - “Signal Strength Measurement is a value range indication within the matching process.”

4. **Signal strength analysis**  
   - The EV analyzes the measured signal strength to determine how strongly the EVSE’s signals are received.

5. **Low signal attenuation**  
   - Indicates a strong signal measurement.  
   - If the analysis confirms a single strong connection, the result can be “EVSE_FOUND.”

6. **Ambiguous result (multiple EVSE’s, uncertain signal strength)**  
   - The EV sees more than one possible candidate or uncertain measurement.  
   - Proceeds with the interim status “EVSE_POTENTIALLY_FOUND.”

7. **High signal attenuation**  
   - Indicates a weak signal.  
   - If the analysis indicates no suitable EVSE, the result is “EVSE_NOT_FOUND.”

8. **Result is “EVSE_FOUND”**  
   - The outcome that the EV confirms exactly one matching EVSE based on the signal measurement.

9. **Result is “EVSE_POTENTIALLY_FOUND”**  
   - The outcome that the EV sees a possible match but cannot fully confirm. A validation step might be needed.

10. **Result is “EVSE_NOT_FOUND”**  
    - The outcome that the EV determines no valid EVSE is connected.

11. **Declared result is “EVSE_FOUND” / “EVSE_POTENTIALLY_FOUND” / “EVSE_NOT_FOUND”**  
    - Refers to the EV deciding or declaring the final outcome after possibly applying use-case-based rules.  
    - For “EVSE_POTENTIALLY_FOUND,” the EV may treat that result as either “EVSE_FOUND” or “EVSE_NOT_FOUND,” depending on scenario.

12. **optional**  
    - Indicates that certain paths (e.g., additional validation) might be skipped according to the configuration or use-case definition.

13. **Validation of matching decision**  
    - An optional or necessary process (depending on the result and the system requirements) to confirm physically that the EV is indeed connected to the intended EVSE.  
    - Can involve “BCB-Toggle” sequences on the control pilot line if the discovery result was ambiguous.

14. **Validation result? (found / not found)**  
    - After attempting validation, the EV either confirms or rejects the EVSE.  
    - If confirmed → proceed to network setup.  
    - If rejected → proceed to “next EVSE” or declare no link.

15. **Remaining unvalidated EVSE?**  
    - If more than one EVSE was discovered and not yet validated, the EV can continue validating in sequence.

16. **next EVSE**  
    - The EV moves to another candidate EVSE and repeats the validation step.

17. **Setup logical network**  
    - If the EV is satisfied with the discovered/validated EVSE, it sets up the logical (data link) communication network with that EVSE.

18. **Data link established?**  
    - Checks whether the EV has successfully established the data link (i.e., the communication session and all necessary transport layers).

19. **Call D-LINK_READY.IND (Link established)**  
    - Indicates to higher-layer entities (HLE) that a data link is set up (matching is successful).  
    - From here, upper layers continue the binding process outlined in ISO 15118-3.

20. **Call D-LINK_READY.IND (No link)**  
    - Indicates that no valid data link is available (matching has failed).  
    - The process can exit, and higher layers are notified that no link was established.

21. **Exit matching process with success / failure**  
    - Final outcome: the EV is either matched or not matched to an EVSE.

22. **NOTE**  
    - “Error handling for Matching Process is not shown in this figure. See A.9.8.”  

---

## 2. Flow of the Diagram (Step by Step)

1. **Entering matching process**  
   The EV transitions into the matching phase (often triggered by a control pilot transition to an active charging state).

2. **Discovery of the connected communication nodes**  
   - The EV enumerates all communication nodes visible on the physical link.  
   - Multiple EVSEs may be detected (e.g., in scenarios with cross-talk).

3. **Signal strength measurement**  
   - The EV measures how strongly each communication node’s signal is received.

4. **Signal strength analysis**  
   - The EV compares measured signals. Three possible outcomes:  
     a) **Low signal attenuation** → strong signal from one node.  
     b) **Ambiguous result** → multiple nodes with uncertain or similarly strong signals.  
     c) **High signal attenuation** → no suitable (or extremely weak) signals.

5. **Branching into three results**  
   - If **low signal attenuation** is observed:  
     → The EV sets **Result = “EVSE_FOUND.”**  
   - If **ambiguous** measurement is observed:  
     → The EV sets **Result = “EVSE_POTENTIALLY_FOUND.”**  
   - If **high signal attenuation** is observed:  
     → The EV sets **Result = “EVSE_NOT_FOUND.”**

6. **Result is “EVSE_FOUND”**  
   - Optionally, the EV may do a sanity/validation check (depending on the scenario).  
   - Otherwise, it can declare final result as “EVSE_FOUND” and proceed.

   **Declared result is “EVSE_FOUND”**  
   → Next step: **Setup logical network**.

7. **Result is “EVSE_POTENTIALLY_FOUND”**  
   - The EV might treat it as “EVSE_FOUND” or “EVSE_NOT_FOUND,” or it can continue with an actual **Validation of matching decision**.  
   - If it decides not to validate further (per system rules), it may directly set “Declared result is ‘EVSE_POTENTIALLY_FOUND’” and treat it accordingly.  
   - Otherwise, proceed to the next diamond: **Validation of matching decision**.

8. **Result is “EVSE_NOT_FOUND”**  
   - If the EV cannot identify a valid EVSE, or the signal is too weak to be recognized, the EV declares “EVSE_NOT_FOUND.”  
   - **Declared result is “EVSE_NOT_FOUND.”**  
   - This immediately leads to the EV calling **D-LINK_READY.IND (No link)** and exiting the process (with failure).

9. **Validation of matching decision** (found on the “EVSE_POTENTIALLY_FOUND” path or optionally on the “EVSE_FOUND” path)  
   - The EV requests (and performs) additional confirmation with the EVSE (for instance, using the control pilot “BCB-Toggle” procedure mentioned in Clause 9.4).  
   - **Validation result?**  
     1. **found**: The EV confirms the EVSE is correct. Proceed to “Setup logical network.”  
     2. **not found**: The EV rejects this EVSE, checks if there is a **Remaining unvalidated EVSE?**  
        - If **yes**, go to **next EVSE** and repeat.  
        - If **no**, proceed to “Call D-LINK_READY.IND (No link)” (failure).

10. **Setup logical network**  
    - Once certain of the correct EVSE, the EV sets up the low-level communication (logical network).  
    - **Data link established?**  
      - If **yes** → **Call D-LINK_READY.IND (Link established)** → exit with success.  
      - If **no** → **Call D-LINK_READY.IND (No link)** → exit with failure.

11. **Exit matching process**  
    - Either as a success (the EV is matched and ready for higher-layer communication) or as a failure (no valid link or incorrect EVSE discovered).

12. **NOTE**  
    - “Error handling for Matching Process is not shown in this figure. See A.9.8.” The figure omits certain fallback or error paths (e.g., hardware faults) that are described in Annex A.9.8 in the standard.

---

## 3. Relation and Connection Among Entities

1. **EV** – The primary actor performing discovery, measurement, and analysis.  
2. **Communication Nodes** (EVSEs) – Possible candidates that the EV might be physically attached to.  
3. **Signal Strength Measurement** – Core step for determining whether the EV has a strong enough link to confirm “EVSE_FOUND,” or if there is ambiguity (“EVSE_POTENTIALLY_FOUND”), or if no match can be made (“EVSE_NOT_FOUND”).  
4. **Validation Process** – A separate (optional or required) mechanism that uses control pilot line toggles to double-check the physical wiring.  
5. **Logical Network Setup** – The bridging or data-layer step established once the EV confidently decides on an EVSE.  
6. **D-LINK_READY.ind** – The primitive called to indicate either a successful link or a failed link to the higher layers.

---

## 4. Additional Notes from ISO 15118-3

- **Under ambiguous conditions** (“EVSE_POTENTIALLY_FOUND”), an EV may ask the EVSE to confirm the connection via a separate pilot-line validation.  
- **Error handling** is largely omitted in Figure 10; full details appear in Annex A.9.8.  
- **Any transition**—whether success or failure—results in calling D-LINK_READY.IND to notify higher layers.  
- **According to Annex 9.5**, once the logical network is successfully set up, the status changes to “Matched” and upper-layer protocols (e.g., TLS, V2G messages) can begin binding.

---

### Conclusion

Figure 10 (EV point of view) outlines how the EV:  
1) **Discovers** possible EVSE nodes,  
2) **Measures** and **analyzes** each node’s signal strength,  
3) **Determines** whether a single, multiple, or zero EVSEs are valid matches,  
4) **Optionally validates** ambiguous results,  
5) **Sets up** a logical network with the matched EVSE, and  
6) **Exits** by either calling “D-LINK_READY.IND (Link established)” for success or “D-LINK_READY.IND (No link)” for failure.

This step-by-step process ensures the EV consistently identifies the correct EVSE in multi-charger environments and starts a reliable higher-level communication session for the charging process.

Related Information 8: Discovery of the connected communication nodes Signal strength measurement Signal strength analysis Result is "EVSE_NOT_FOUND" Result is "EVSE_FOUND" Low signal attenuation High signal attenuation Result is "EVSE_POTENTIALLY_FOUND" Ambiguous result (multiple EVSE's, uncertain signal strength) next EVSE Setup logical network found Validation result? Remaining unvalidated EVSE? yes Data link etablished? yes Call D-LINK_READY.IND (Link etablished) Call D-LINK_READY.IND (No link) Entering matching process Declared result is "EVSE_POTENTIALLY_FOUND" optional Validation of matching decision optional optional Declared result is "EVSE_FOUND" Declared result is "EVSE_NOT_FOUND" (sibling of Text 4)
Related Information 9: NOTE Error handling for Matching Process is not shown in this figure. See A.9.8. (sibling of Text 4)
Related Information 10: Figure 10 — EV point of view (sibling of Text 4)
Related Information 11: Figure 11 — Matching state machine (sibling of Text 4)
Related Information 12: Any transition from the state “Matching” triggers a call of the primitive D-LINK_READY.indication to indicate a successful or failed data-link setup. (sibling of Text 4)
Related Information 13: Any loss of the control pilot or a request from HLE leads to a reset to state “Unmatched”. (sibling of Text 4)
Contextual Information 8: 9.1 Overview (ancestor of Text 4)
Related Information 14: Figure 11 shows a high-level overview of the matching process. The default state of a PLC node at plug- in is “Unmatched”. A control pilot state change from state A, E or F to B, C or D triggers the matching process (state “Matching” in Figure 11) which determines the correct EV-EVSE matching by signal strength measurement. A successful matching process leads to the state “Matched” in Figure 11. (sibling of Text 5)
Related Information 15: [V2G3-A09-111] If a low-layer communication module needs to request an amplitude map exchange from the counterpart device, the CM_AMP_MAP.REQ shall be sent within TP_amp_map_exchange. The timer TP_amp_map_exchange shall be started with the detection of other stations in the current logical network after the SLAC_ MATCH exchange. (sibling of Text 7)
Related Information 16: [V2G3-A09-112] If a low-layer communication module has sent a CM_AMP_MAP.REQ but does not receive a valid CM_AMP_MAP.CNF within the max(TT_match_response), it shall retransmit the CM_AMP_MAP.REQ. The timer shall be restarted with any retry. A maximum of C_EV_match_retry retransmissions shall be performed. If after these retransmissions the low-layer communication module has not received valid response within max(TT_match_response), the matching process shall be considered as FAILED. (sibling of Text 7)
Related Information 17: [V2G3-A09-113] If a low-layer communication module receives a CM_AMP_MAP.REQ with invalid content, it shall be ignored. Content which deviate from the MME definition in Table A.9 is invalid. (sibling of Text 7)
Related Information 18: [V2G3-A09-114] If a low-layer communication module receives a CM_AMP_MAP.CNF with invalid content, it shall be ignored. Content which deviate from the MME definition in Table A.9 is invalid. (sibling of Text 7)
Related Information 19: ﻿ (sibling of Text 7)
Related Information 20: [V2G3-A09-115] After receiving a CM_AMP_MAP.REQ within TT_amp_map_exchange, a low-layer communication module shall answer with a CM_AMP_MAP.CNF within TP_match_ response. The timer TT_amp_map_exchange shall be started with the detection of other stations in the current logical network. (sibling of Text 7)
Related Information 21: [V2G3-A09-116] If the requested node receives another CM_AMP_MAP.REQ, this means that the counterpart station retransmitted its request for some reason (i.e. the CM_AMP_ MAP.CNF was not received); the requested node shall respond to the request again. (sibling of Text 7)
Related Information 22: [V2G3-A09-117] If the timer TT_amp_map_exchange expires without receiving a CM_AMP_MAP. REQ from the counterpart low-layer communication module and without sending a CM_AMP_MAP.REQ, the D-LINK_READY.indication (link established) shall be sent to higher layers. (sibling of Text 7)
Related Information 23: [V2G3-A09-118] As soon as the state “Matched” is reached, no further SLAC messages shall be sent or processed. (sibling of Text 7)
Related Information 24: [V2G3-A09-119] If an amplitude map exchange is initiated by one of the low-layer communication modules in the logical network, the higher layer shall not be informed about the valid data link before the link is re-established after the amplitude map exchange and the local configuration of the modified amplitude map is done. (sibling of Text 7)
Contextual Information 9: A.9.6.3.2 EV and EVSE sides (ancestor of Text 7)
Contextual Information 10: A.9.6 Amplitude map exchange (ancestor of Text 7)
Contextual Information 11: A.9 Matching EV – EVSE process (ancestor of Text 7)
Related Information 25: [V2G3-M07-03] If a data link was established and a D-LINK_READY.indication(link established) was already indicated to higher layers, any detected loss of the data link shall cause a D-LINK_READY.indication(no link) indication to higher layers. (sibling of Text 8)
Related Information 26: 7.5.1 EVSE side (sibling of Text 8)
Related Information 27: 7.5.1.1 Error handling with a Control Pilot duty cycle of 5 % (sibling of Text 8)
Related Information 28: 7.5.1.2 Error handling with nominal control pilot duty cycle (sibling of Text 8)
Related Information 29: 7.5.2 EV side (sibling of Text 8)
Related Information 30: 7.5.2.1 Error handling with control pilot duty cycle of 5 % (sibling of Text 8)
Related Information 31: 7.5.2.2 Error handling with nominal control pilot duty cycle (sibling of Text 8)
Contextual Information 12: 7.5 Loss of communication (ancestor of Text 8)
Related Information 32: This Clause covers the situation where the communication link is lost. A loss of communication after the establishment of a data link [D-LINK_READY.indication(link established) was already indicated] is handled by higher layers, by requesting with D-LINK_ERROR.request. (sibling of Text 9)
Related Information 33: The D-LINK_READY.indication shall inform higher layers about a change of com- munication link status. This indication shall be sent with any change in link status. The values of the D-LINK_READY status are independent of the states of the con- trol pilot signal. (sibling of Table 1)
Related Information 34: Table 4 — D-LINK_READY.indication primitive <table border="1"> <td colspan="1" rowspan="1">Primitive</td> <td colspan="1" rowspan="1">D-LINK_READY.indication</td> <tr> <td colspan="1" rowspan="1">Entity to support</td> <td colspan="1" rowspan="1">EV, EVSE</td> </tr> <tr> <td colspan="1" rowspan="1">Parameter name</td> <td colspan="1" rowspan="1">Description</td> </tr> <tr> <td colspan="1" rowspan="1">D-LINKSTATUS</td> <td colspan="1" rowspan="1">Status of communication link:&lt;br&gt;— no link&lt;br&gt;— link established</td> </tr> </table> (sibling of Table 1)
Related Information 35: The D-LINK_TERMINATE.request requests lower layers to terminate the data link. (sibling of Table 1)
Related Information 36: Table 5 — D-LINK_TERMINATE.request primitive (sibling of Table 1)
Related Information 37: Table 5 — D-LINK_TERMINATE.request primitive <table border="1"> <td colspan="1" rowspan="1">Primitive</td> <td colspan="1" rowspan="1">D-LINK_TERMINATE.request</td> <tr> <td colspan="1" rowspan="1">Entity to support</td> <td colspan="1" rowspan="1">EV, EVSE</td> </tr> </table> (sibling of Table 1)
Related Information 38: The D-LINK_ERROR.request requests lower layers to terminate the data link and restart the matching process by a control pilot transition through state E. (sibling of Table 1)
Related Information 39: Table 6 — D-LINK_ERROR.request primitive (sibling of Table 1)
Related Information 40: Table 6 — D-LINK_ERROR.request primitive <table border="1"> <td colspan="1" rowspan="1">Primitive</td> <td colspan="1" rowspan="1">D-LINK_ERROR.request</td> <tr> <td colspan="1" rowspan="1">Entity to support</td> <td colspan="1" rowspan="1">EVSE</td> </tr> </table> (sibling of Table 1)
Related Information 41: The D-LINK_PAUSE.request requests lower layers to enter a power saving mode. While being in this mode, the state will be kept to “Matched”. (sibling of Table 1)
Contextual Information 13: [V2G3-M12-01] (ancestor of Table 1)
Contextual Information 14: 12.3 Data link control SAP to layer 3 (ancestor of Table 1)
Contextual Information 15: 12 Layer 2 interfaces (ancestor of Table 1)
Related Information 42: This Clause summarizes all timings used in this Annex. (sibling of Table 2)
Related Information 43: [V2G3-A08-01] All low-layer communciation modules shall comply with Table A.1. (sibling of Table 2)
Related Information 44: Table A.1 — Timing and constant values (sibling of Table 2)
Related Information 45: Table A.1 — Timing and constant values <table border="1"> <td colspan="1" rowspan="1">Parameter</td> <td colspan="1" rowspan="1">Description</td> <td colspan="1" rowspan="1">Min</td> <td colspan="1" rowspan="1">Typical</td> <td colspan="1" rowspan="1">Max</td> <td colspan="1" rowspan="1">Unit</td> <tr> <td colspan="1" rowspan="1">C_EV_match_MNBC</td> <td colspan="1" rowspan="1">Number of M-Sounds sent for the&lt;br&gt;SLAC</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">10</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">nbr</td> </tr> <tr> <td colspan="1" rowspan="1">C_EV_match_retry</td> <td colspan="1" rowspan="1">Number of retries of the correspond-&lt;br&gt;ing message within the matching&lt;br&gt;process</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">2</td> <td colspan="1" rowspan="1">nbr</td> </tr> <tr> <td colspan="1" rowspan="1">C_EV_match_signalattn_direct</td> <td colspan="1" rowspan="1">Lower threshold for the signal&lt;br&gt;strength measurement</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">10</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">dB</td> </tr> <tr> <td colspan="1" rowspan="1">C_EV_match_signalattn_indirect</td> <td colspan="1" rowspan="1">Higher threshold for the signal&lt;br&gt;strength measurement</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">20</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">dB</td> </tr> <tr> <td colspan="1" rowspan="1">C_EV_start_atten_char_inds</td> <td colspan="1" rowspan="1">Number of CM_START_ATTEN_CHAR.&lt;br&gt;INDs sent by the EV</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">3</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">nbr</td> </tr> <tr> <td colspan="1" rowspan="1">TP_amp_map_exchange</td> <td colspan="1" rowspan="1">Performance timer for the start of an&lt;br&gt;AMP MAP Exchange&lt;br&gt;Either the EV or the EVSE shall send&lt;br&gt;a CM_AMP_MAP.REQ within the&lt;br&gt;max value of this timer after link is&lt;br&gt;detected in order to trigger an AMP&lt;br&gt;MAP Exchange.</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">100</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TP_EV_batch_msg_interval</td> <td colspan="1" rowspan="1">Interval between two CM_START_&lt;br&gt;ATTEN_CHAR.IND or CM_MNBC_&lt;br&gt;SOUND.IND messages</td> <td colspan="1" rowspan="1">20</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">50</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TP_EV_match_session</td> <td colspan="1" rowspan="1">Performance time for the EV to start&lt;br&gt;validation or SLAC_MATCH after&lt;br&gt;sending CM_ATTEN_CHAR.RSP</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">500</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TP_EV_SLAC_init</td> <td colspan="1" rowspan="1">Time between plug-in (state B&lt;br&gt;detected) or wake-up and start of&lt;br&gt;matching by the EV</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">10</td> <td colspan="1" rowspan="1">s</td> </tr> <tr> <td colspan="1" rowspan="1">TP_EVSE_avg_atten_calc</td> <td colspan="1" rowspan="1">Performance time for the EVSE to&lt;br&gt;calculate the average attenuation pro-&lt;br&gt;file after reception of all M-SOUNDs&lt;br&gt;or after TT_EVSE_match_MNBC has&lt;br&gt;expired</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">100</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TP_link_ready_notification</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">0,2</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">1</td> <td colspan="1" rowspan="1">s</td> </tr> <tr> <td colspan="1" rowspan="1">TP_match_response</td> <td colspan="1" rowspan="1">General performance time for a&lt;br&gt;response to a request</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">100</td> <td colspan="1" rowspan="1">ms</td> </tr> </table> (sibling of Table 2)
Related Information 46: Table A.1 (continued) <table border="1"> <td colspan="1" rowspan="1">Parameter</td> <td colspan="1" rowspan="1">Description</td> <td colspan="1" rowspan="1">Min</td> <td colspan="1" rowspan="1">Typical</td> <td colspan="1" rowspan="1">Max</td> <td colspan="1" rowspan="1">Unit</td> <tr> <td colspan="1" rowspan="1">TP_match_sequence</td> <td colspan="1" rowspan="1">General performance time for sub-&lt;br&gt;sequent requests after a response to&lt;br&gt;previous request has been received</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">100</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TT_amp_map_exchange</td> <td colspan="1" rowspan="1">Timeout timer that runs on both EV&lt;br&gt;and EVSE side after link is detected&lt;br&gt;If an EV or EVSE does not want to&lt;br&gt;start an AMP MAP Exchange and no&lt;br&gt;request is received by the other side&lt;br&gt;within the timeout value of this timer,&lt;br&gt;then it is to be assumed that no AMP&lt;br&gt;MAP Exchange will take place and&lt;br&gt;a D-LINK_READY.indication is to be&lt;br&gt;sent to the HLE.</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">200</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TT_EV_atten_results</td> <td colspan="1" rowspan="1">Time the EV shall wait for CM_&lt;br&gt;ATTEN_CHAR.IND messages from&lt;br&gt;EVSEs. Timer starts with the sending&lt;br&gt;of the first CM_START_ATTEN_CHAR.&lt;br&gt;IND</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">1 200</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TT_EVSE_match_MNBC</td> <td colspan="1" rowspan="1">Timeout on the EVSE side that trig-&lt;br&gt;gers the calculation of the average&lt;br&gt;attenuation profile</td> <td colspan="1" rowspan="1">600</td> <td colspan="1" rowspan="1">600</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TT_EVSE_match_session</td> <td colspan="1" rowspan="1">Maximum time from the expiration of&lt;br&gt;TT_EVSE_match_MNBC and the recep-&lt;br&gt;tion of either CM_VALIDATE.REQ or&lt;br&gt;CM_SLAC_MATCH.REQ</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">10</td> <td colspan="1" rowspan="1">s</td> </tr> <tr> <td colspan="1" rowspan="1">TT_EVSE_SLAC_init</td> <td colspan="1" rowspan="1">Time between detecting state B and&lt;br&gt;receiving CM_SLAC_PARM.REQ on the&lt;br&gt;EVSE side</td> <td colspan="1" rowspan="1">20</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">50</td> <td colspan="1" rowspan="1">s</td> </tr> <tr> <td colspan="1" rowspan="1">TT_match_join</td> <td colspan="1" rowspan="1">Maximum time between CM_SLAC_&lt;br&gt;MATCH.CNF and link establishment&lt;br&gt;If there is no link after this timeout&lt;br&gt;expires, EV retries matching process&lt;br&gt;and EVSE resets its state machine</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">12</td> <td colspan="1" rowspan="1">s</td> </tr> <tr> <td colspan="1" rowspan="1">TT_match_response</td> <td colspan="1" rowspan="1">Time that the EV/EVSE shall wait for a&lt;br&gt;response from the EVSE/EV</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">200</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TT_match_sequence</td> <td colspan="1" rowspan="1">Time that the EVSE/EV shall wait for&lt;br&gt;a request from the EV/EVSE</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">400</td> <td colspan="1" rowspan="1">ms</td> </tr> <tr> <td colspan="1" rowspan="1">TT_matching_repetition</td> <td colspan="1" rowspan="1">Time duration for repetitions of the&lt;br&gt;matching process when an error&lt;br&gt;occurs</td> <td colspan="1" rowspan="1">10</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">s</td> </tr> <tr> <td colspan="1" rowspan="1">TT_matching_rate</td> <td colspan="1" rowspan="1">Time to wait for a repetition of the&lt;br&gt;whole matching process after a failed&lt;br&gt;matching process</td> <td colspan="1" rowspan="1">400</td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1"></td> <td colspan="1" rowspan="1">ms</td> </tr> </table> (sibling of Table 2)
Contextual Information 16: A.8 Timings and constants (ancestor of Table 2)
Contextual Information 17: Annex A (normative) HomePlug Green PHY on control pilot line (ancestor of Table 2)
Related Information 47: [V2G3-A09-108] The Ethernet destination MAC address field shall be filled as Unicast, as defined in the Table A.9. (sibling of Table 3)
Related Information 48: [V2G3-A09-109] To exchange an amplitude map, the CM_AMP_MAP.REQ message defined in [HPGP] shall be used. The content is shown in Table A.9. (sibling of Table 3)
Related Information 49: [V2G3-A09-110] To confirm an amplitude map exchange, the CM_AMP_MAP.CNF message defined in [HPGP] shall be used. The content is shown in Table A.9. (sibling of Table 3)
Related Information 50: An amplitude map exchange can be initiated by an EV or an EVSE by sending a “CM_AMP_MAP.REQ” message. (sibling of Table 3)
Related Information 51: Table A.9 — MMEs parameters definition for amplitude map exchange <table border="1"> <td colspan="1" rowspan="1">MME</td> <td colspan="1" rowspan="1">Field</td> <td colspan="1" rowspan="1">Octet&lt;br&gt;no.</td> <td colspan="1" rowspan="1">Field size</td> <td colspan="1" rowspan="1">Value</td> <td colspan="1" rowspan="1">Definition</td> <tr> <td colspan="1" rowspan="4">CM_AMP_MAP.REQ&lt;br&gt;Unicast</td> <td colspan="1" rowspan="1">AMLEN</td> <td colspan="1" rowspan="1">0 to 1</td> <td colspan="1" rowspan="1">2 Octet</td> <td colspan="1" rowspan="1">0x3A</td> <td colspan="1" rowspan="1">Fixed value to indicate the number&lt;br&gt;of carriers used</td> </tr> <tr> <td colspan="1" rowspan="1">AMDATA[0]</td> <td colspan="1" rowspan="1">2</td> <td colspan="1" rowspan="1">4 Bit</td> <td colspan="1" rowspan="1">variable</td> <td colspan="1" rowspan="1">Amplitude Map Data:&lt;br&gt;4 LSBs First unmasked carrier</td> </tr> <tr> <td colspan="1" rowspan="1">AMDATA[1]</td> <td colspan="1" rowspan="1">2</td> <td colspan="1" rowspan="1">4 Bit</td> <td colspan="1" rowspan="1">variable</td> <td colspan="1" rowspan="1">Amplitude Map Data:&lt;br&gt;4 MSBs Second unmask carrier</td> </tr> <tr> <td colspan="1" rowspan="1">AMDATA[n]</td> <td colspan="1" rowspan="1">-</td> <td colspan="1" rowspan="1">4 Bit</td> <td colspan="1" rowspan="1">variable</td> <td colspan="1" rowspan="1"></td> </tr> <tr> <td colspan="1" rowspan="1">CM_AMP_MAP.CNF&lt;br&gt;Unicast</td> <td colspan="1" rowspan="1">ResType</td> <td colspan="1" rowspan="1">0</td> <td colspan="1" rowspan="1">1 Octet</td> <td colspan="1" rowspan="1">variable</td> <td colspan="1" rowspan="1">Result code:&lt;br&gt;0x00 = success&lt;br&gt;0x01 = failure&lt;br&gt;0x02 – 0xFF = reserved</td> </tr> </table> (sibling of Table 3)
Contextual Information 18: A.9.6.2 Description of involved MMEs (ancestor of Table 3)
Related Information 52: Figure A.8 — Sequence chart of amplitude map exchange (sibling of Figure 2)
Contextual Information 19: A.9.6.3.1 Sequence chart (ancestor of Figure 2)

OUTPUT FORMAT INSTRUCTIONS:
Your answer should follow these guidelines:
1. Start with an 'Overview' section that provides a concise explanation of what this concept/topic is.
2. For the related content, organize it into appropriate sections with descriptive headings based on the information available.
   - Analyze the content and group related information logically.
   - Choose section titles that best represent the information, such as 'Related Topics', 'Related Primitives', 'Configuration Requirements', etc.
   - Let the content guide your choice of section titles rather than forcing a predefined structure.
3. The structure should match the format used in technical documentation, with clear hierarchy and organization.
4. Include any relevant figures, tables, or processes mentioned in the information.
5. Be as detailed and comprehensive as possible while ONLY using the provided information.
6. In writing your answer, strictly follow the content provided in the information, and do not add any new information or make assumptions.


Question: What is D-LINK_READY.indication?

Above is all the available information related to this question.
Use ONLY this information to construct a comprehensive answer.
Do not add any new information that is not present below.